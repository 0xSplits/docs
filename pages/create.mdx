# Creating contracts

Before jumping into the various contracts you're able to create, there are a few
important concepts to cover. The below concepts apply to all the contracts in
the ecosystem.

- **Recipient:** this is any Ethereum address that receives tokens from the
  contract. This can be someone's wallet (EOA) or a smart contract, including
  any of the building blocks.
- **Balance:** tokens received by the contract are stored in the contract's
  balance until it's distributed.

There are three core building blocks upon which all payment flows are created.
You can stack them together in whatever order makes most sense for your specific
needs. Since some combinations are more common than others, we've also created
Templates – a set pre-built flows that stack multiple building blocks together.

## Building blocks

import { Card, Cards } from 'nextra-theme-docs'

<Cards>

<Card title="Split &rarr;" image href="#split">
  ![Basic Overview Flow](/split_diagram.png)
</Card>
<Card title="Waterfall &rarr;" image href="#waterfall">
  ![Basic Overview Flow](/waterfall_diagram.png)
</Card>
<Card title="Vesting &rarr;" image href="#vesting">
  ![Basic Overview Flow](/vesting_diagram.png)
</Card>

</Cards>

### Split

A Split is a building block that distributes funds according to pre-set
percentages. To create one, all you have to do is enter in two or more
recipients and assign each one an ownership percentage. Ownership percentages
must add to 100%.

If you anticipate ownership percentages needing to change in the future, you can
assign an account to be the Controller of the Split. This Controller has the
ability to add/remove/modify recipients and even transfer control of the Split
to a new account (or remove control entirely). **A Split is only as trustworthy
as the Controller** so use with caution.

### Waterfall

A Waterfall allows you to define the order & amount different accounts get paid.
This is helpful if you want to pay one account _before_ paying another. For
example, many NFT projects want to repay expenses before distributing the
profits.

Waterfalls have two or more tranches, and each tranche has a threshold and a
recipient. The threshold is the maximum amount the recipient will receive. Funds
are sent to the tranche recipient _only after_ the preceeding tranche threshold
has been reached. This repeats until all the tranches have been filled, at which
point all residual funds are sent to the final tranche recipient.

### Vesting

Vesting is a contract that releases streams of funds to a recipient over a set
period of time. When creating a Vesting contract, all you need to do it set the
recipient and the vesting period (the number of days it takes for each vesting
stream to complete).

Since there is no way to revoke a vesting stream once it's begun, this is best
paired with a mutable Split since this combination allows the end recipients to
change.

## Templates

<Cards>

<Card title="Recoup &rarr;" image href="#split">
  ![Basic Overview Flow](/recoup_diagram.png)
</Card>
<Card title="Liquid Split &rarr;" image href="#waterfall">
  ![Basic Overview Flow](/liquidsplit_diagram.png)
</Card>

</Cards>

### Recoup

### Liquid Split

### Recipients

Once you've selected the Split type, you can enter in each Recipient's address
(ENS or hex) and their corresponding ownership. Since a Recipient doesn't need
to withdraw for itself, you may enter any payable address—user wallets, smart
contracts, and other Splits are all acceptable.

![New Split Recipients](/new-split-recipients.png)

### Distribution Incentive

This is the percent of the Split's balance paid to whoever distributes it. You
can think of it as a "payment processing fee". Leaving this to a positive number
allows your Split to be "automated" since it creates an incentive for third
parties to distribute balances for Recipients. By default this is set to 1% but
you may remove it (by setting it to 0%) or increase it (the maximum is 10%).

![New Mutable Split](/new-split-distributorfee.png)

**Tip:** Once you've filled out the Recipients section, you will see an estimate
of when it becomes profitable for a third party to distribute the funds for
Recipients. If you're not sure what value to use, we recommend leaving it at the
default setting of 1.00%. [Learn more](/core-concepts#distributor-fee)

### Controlling Address

This section only applies to Mutable Splits. The Controlling Address has the
ability to modify the Recipients, Distribution Incentive, Controlling Address,
and even make the Split immutable. The Controlling Address may be any account
(EOA, Gnosis Safe, smart contract, etc).
[Learn more](/core-concepts#mutable-split)

![New Mutable Split](/new-split-mutable.png)

### Contract Address

This section only applies to Immutable Splits. The Contract Address is the
address at which this Immutable Split, according to the Recipients and
Distribution Incentive set above, will be deployed. This address will change if
you update the Recipients or Distribution Incentive. You may send
crytocurrencies to this address prior to creating the Split, however, to
withdraw tokens the Split will need to be deployed.

![New Mutable Split](/new-split-contractaddress.png)
