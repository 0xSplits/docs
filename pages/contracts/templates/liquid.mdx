import { Toggle } from '../../../components/toggle'
import { Callout } from 'nextra-theme-docs'

# Liquid Split

Unlike standard Splits where ownership is manually controlled, Liquid Splits use
NFTs to make ownership tranferrable. This allows each recipient to control their
share of the Split themselves, since they may freely transfer their ownership by
simply transfering their Liquid Split NFTs.

![Liquid Split diagram](/liquidsplit_diagram.png)

## How It Works

- Each Liquid Split is comprised of an NFT contract (ERC-1155) and a
  [mutable Split](/core-concepts#mutable-split). The NFT contract gets set as
  the Controlling Address of the mutable Split when it's created. After those
  two contracts have been deployed, 1,000 NFTs are minted from the NFT contract
  to the initial Split recipients.
- Just like standard Splits, each Liquid Split is a payable smart contract with
  its own address to which ETH and ERC20 tokens may be sent. Tokens sent to the
  Liquid Split are held until the balance is distributed.
- When a Liquid Split balance is distributed, first the Split recipients are
  updated to match the current NFT holders and then the balance is distributed
  to those recipients. This happens in a
  [single transaction](/smartcontracts/SplitMain#updateanddistributeeth),
  ensuring the owners of the NFTs receive their share of the balance _at the
  time of distribution_. This means that if there's a balance and you transfer
  your NFTs to Alice, Alice will be entitled to that share of the balance.

## Addresses

### Mainnet Deployments

<Toggle title="Ethereum - 1">

| Contract       | Address                                                                                                                      |
| :------------- | :--------------------------------------------------------------------------------------------------------------------------- |
| Implementation | [`0xb7d1fd59f072509ae4e2eb0628805524b2476371`](https://etherscan.io/address/0xb7d1fd59f072509ae4e2eb0628805524b2476371#code) |
| Factory        | [`0xdecd8b99b7f763e16141450daa5ea414b7994831`](https://etherscan.io/address/0xdecd8b99b7f763e16141450daa5ea414b7994831#code) |

</Toggle>

<Toggle title="Optimism – 10">

| Contract       | Address                                                                                                                                 |
| :------------- | :-------------------------------------------------------------------------------------------------------------------------------------- |
| Implementation | [`0xb7d1fd59f072509ae4e2eb0628805524b2476371`](https://optimistic.etherscan.io/address/0xb7d1fd59f072509ae4e2eb0628805524b2476371#code) |
| Factory        | [`0xdecd8b99b7f763e16141450daa5ea414b7994831`](https://optimistic.etherscan.io/address/0xdecd8b99b7f763e16141450daa5ea414b7994831#code) |

</Toggle>

<Toggle title="BSC – 56">

| Contract       | Address                                                                                                                     |
| :------------- | :-------------------------------------------------------------------------------------------------------------------------- |
| Implementation | [`0x306306EB890B79bA98CFF84a1637e2B64c4092b4`](https://bscscan.com/address/0x306306EB890B79bA98CFF84a1637e2B64c4092b4#code) |
| Factory        | [`0xCDe071bE119024EdC970B3Da15003ee834ae40D2`](https://bscscan.com/address/0xCDe071bE119024EdC970B3Da15003ee834ae40D2#code) |

</Toggle>

<Toggle title="Gnosis – 100">

| Contract       | Address                                                                                                                       |
| :------------- | :---------------------------------------------------------------------------------------------------------------------------- |
| Implementation | [`0xb7d1fd59f072509ae4e2eb0628805524b2476371`](https://gnosisscan.io/address/0xb7d1fd59f072509ae4e2eb0628805524b2476371#code) |
| Factory        | [`0xdecd8b99b7f763e16141450daa5ea414b7994831`](https://gnosisscan.io/address/0xdecd8b99b7f763e16141450daa5ea414b7994831#code) |

</Toggle>

<Toggle title="Polygon – 137">

| Contract       | Address                                                                                                                         |
| :------------- | :------------------------------------------------------------------------------------------------------------------------------ |
| Implementation | [`0xb7d1fd59f072509ae4e2eb0628805524b2476371`](https://polygonscan.com/address/0xb7d1fd59f072509ae4e2eb0628805524b2476371#code) |
| Factory        | [`0xdecd8b99b7f763e16141450daa5ea414b7994831`](https://polygonscan.com/address/0xdecd8b99b7f763e16141450daa5ea414b7994831#code) |

</Toggle>

<Toggle title="Fantom – 250">

| Contract       | Address                                                                                                                     |
| :------------- | :-------------------------------------------------------------------------------------------------------------------------- |
| Implementation | [`0xb7d1fd59f072509ae4e2eb0628805524b2476371`](https://ftmscan.com/address/0xb7d1fd59f072509ae4e2eb0628805524b2476371#code) |
| Factory        | [`0xdecd8b99b7f763e16141450daa5ea414b7994831`](https://ftmscan.com/address/0xdecd8b99b7f763e16141450daa5ea414b7994831#code) |

</Toggle>

<Toggle title="Arbitrum – 42161">

| Contract       | Address                                                                                                                     |
| :------------- | :-------------------------------------------------------------------------------------------------------------------------- |
| Implementation | [`0xb7d1fd59f072509ae4e2eb0628805524b2476371`](https://arbiscan.io/address/0xb7d1fd59f072509ae4e2eb0628805524b2476371#code) |
| Factory        | [`0xdecd8b99b7f763e16141450daa5ea414b7994831`](https://arbiscan.io/address/0xdecd8b99b7f763e16141450daa5ea414b7994831#code) |

</Toggle>

<Toggle title="Avalanche – 43114">

| Contract       | Address                                                                                                                      |
| :------------- | :--------------------------------------------------------------------------------------------------------------------------- |
| Implementation | [`0xb7d1fd59f072509ae4e2eb0628805524b2476371`](https://snowtrace.io/address/0xb7d1fd59f072509ae4e2eb0628805524b2476371#code) |
| Factory        | [`0xdecd8b99b7f763e16141450daa5ea414b7994831`](https://snowtrace.io/address/0xdecd8b99b7f763e16141450daa5ea414b7994831#code) |

</Toggle>

<Toggle title="Aurora – 1313161554">

| Contract       | Address                                                                                                                        |
| :------------- | :----------------------------------------------------------------------------------------------------------------------------- |
| Implementation | [`0xb7d1fd59f072509ae4e2eb0628805524b2476371`](https://aurorascan.dev/address/0xb7d1fd59f072509ae4e2eb0628805524b2476371#code) |
| Factory        | [`0xdecd8b99b7f763e16141450daa5ea414b7994831`](https://aurorascan.dev/address/0xdecd8b99b7f763e16141450daa5ea414b7994831#code) |

</Toggle>

### Testnet Deployments

<Toggle title="Goerli - 5">

| Contract       | Address                                                                                                                             |
| :------------- | :---------------------------------------------------------------------------------------------------------------------------------- |
| Implementation | [`0xb7d1fd59f072509ae4e2eb0628805524b2476371`](https://goerli.etherscan.io/address/0xb7d1fd59f072509ae4e2eb0628805524b2476371#code) |
| Factory        | [`0xdecd8b99b7f763e16141450daa5ea414b7994831`](https://goerli.etherscan.io/address/0xdecd8b99b7f763e16141450daa5ea414b7994831#code) |

</Toggle>

<Toggle title="BSC Testnet – 97">

| Contract       | Address                                                                                                                             |
| :------------- | :---------------------------------------------------------------------------------------------------------------------------------- |
| Implementation | [`0x306306EB890B79bA98CFF84a1637e2B64c4092b4`](https://testnet.bscscan.com/address/0x306306EB890B79bA98CFF84a1637e2B64c4092b4#code) |
| Factory        | [`0xCDe071bE119024EdC970B3Da15003ee834ae40D2`](https://testnet.bscscan.com/address/0xCDe071bE119024EdC970B3Da15003ee834ae40D2#code) |

</Toggle>

<Toggle title="Optimism Goerli – 420">

| Contract       | Address                                                                                                                                      |
| :------------- | :------------------------------------------------------------------------------------------------------------------------------------------- |
| Implementation | [`0xb7d1fd59f072509ae4e2eb0628805524b2476371`](https://goerli-optimism.etherscan.io/address/0xb7d1fd59f072509ae4e2eb0628805524b2476371#code) |
| Factory        | [`0xdecd8b99b7f763e16141450daa5ea414b7994831`](https://goerli-optimism.etherscan.io/address/0xdecd8b99b7f763e16141450daa5ea414b7994831#code) |

</Toggle>

<Toggle title="Fantom Testnet – 4002">

| Contract       | Address                                                                                                                             |
| :------------- | :---------------------------------------------------------------------------------------------------------------------------------- |
| Implementation | [`0xb7d1fd59f072509ae4e2eb0628805524b2476371`](https://testnet.ftmscan.com/address/0xb7d1fd59f072509ae4e2eb0628805524b2476371#code) |
| Factory        | [`0xdecd8b99b7f763e16141450daa5ea414b7994831`](https://testnet.ftmscan.com/address/0xdecd8b99b7f763e16141450daa5ea414b7994831#code) |

</Toggle>

<Toggle title="Gnosis Chiado – 10200">

| Contract       | Address                                                                                                                                                        |
| :------------- | :------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| Implementation | [`0xb7d1fd59f072509ae4e2eb0628805524b2476371`](https://blockscout.com/gnosis/chiado/address/0xB7d1Fd59f072509AE4e2Eb0628805524B2476371/contracts#address-tabs) |
| Factory        | [`0xdecd8b99b7f763e16141450daa5ea414b7994831`](https://blockscout.com/gnosis/chiado/address/0xdEcd8B99b7F763e16141450DAa5EA414B7994831/contracts#address-tabs) |

</Toggle>

<Toggle title="Avalanche Fuji – 43113">

| Contract       | Address                                                                                                                              |
| :------------- | :----------------------------------------------------------------------------------------------------------------------------------- |
| Implementation | [`0xb7d1fd59f072509ae4e2eb0628805524b2476371`](https://testnet.snowtrace.io/address/0xb7d1fd59f072509ae4e2eb0628805524b2476371#code) |
| Factory        | [`0xdecd8b99b7f763e16141450daa5ea414b7994831`](https://testnet.snowtrace.io/address/0xdecd8b99b7f763e16141450daa5ea414b7994831#code) |

</Toggle>

<Toggle title="Polygon Mumbai – 80001">

| Contract       | Address                                                                                                                                |
| :------------- | :------------------------------------------------------------------------------------------------------------------------------------- |
| Implementation | [`0xb7d1fd59f072509ae4e2eb0628805524b2476371`](https://mumbai.polygonscan.com/address/0xb7d1fd59f072509ae4e2eb0628805524b2476371#code) |
| Factory        | [`0xdecd8b99b7f763e16141450daa5ea414b7994831`](https://mumbai.polygonscan.com/address/0xdecd8b99b7f763e16141450daa5ea414b7994831#code) |

</Toggle>

<Toggle title="Arbitrum Goerli – 421613">

| Contract       | Address                                                                                                                                                              |
| :------------- | :------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| Implementation | [`0xb7d1fd59f072509ae4e2eb0628805524b2476371`](https://goerli-rollup-explorer.arbitrum.io/address/0xb7d1fd59f072509ae4e2eb0628805524b2476371/contracts#address-tabs) |
| Factory        | [`0xdecd8b99b7f763e16141450daa5ea414b7994831`](https://goerli-rollup-explorer.arbitrum.io/address/0xdecd8b99b7f763e16141450daa5ea414b7994831/contracts#address-tabs) |

</Toggle>

<Toggle title="Aurora Testnet – 1313161555">

| Contract       | Address                                                                                                                                |
| :------------- | :------------------------------------------------------------------------------------------------------------------------------------- |
| Implementation | [`0xb7d1fd59f072509ae4e2eb0628805524b2476371`](https://testnet.aurorascan.dev/address/0xb7d1fd59f072509ae4e2eb0628805524b2476371#code) |
| Factory        | [`0xdecd8b99b7f763e16141450daa5ea414b7994831`](https://testnet.aurorascan.dev/address/0xdecd8b99b7f763e16141450daa5ea414b7994831#code) |

</Toggle>

## How To Use

- Create a new Liquid Split by selecting it as the Split type on the new Split
  form. Add recipients and a distribution incentive, and then hit Create Split.
- Once the transaction has been confirmed, you'll be redirected to the Liquid
  Split's page. Subgraph may take a few minutes to update, so if this redirect
  doesn't happen automatically you can locate the Liquid Split's page by
  searching for one of the recipients and looking at their "Receiving" section.
- On the Liquid Split page you can see the earnings, the address to which funds
  can be sent, and the current NFT holders. In the Holders section, next to each
  recipient's name you will see the total number of NFTs they hold and their
  corresponding share of the Split. Whenever the Liquid Split NFTs change hands,
  the holders will be automatically updated.
- Tokens sent to the Liquid Split are held as a balance until they're
  distributed. You can see the Liquid Split's balance and distributions in the
  Liquid Split section. Hitting "Distribute Funds" will update the Split (to
  match current NFT holders) and distribute the balance in a single transaction.

<Callout type="warning" emoji="⚠️">
  When adding this functionality to your contracts, if `sum(percentAllocations)
  != 1e6` the Split will fail to update and funds will be stuck! Be careful when
  managing supply (including burns, rounding on odd numbers, etc). For this
  reason there is no burn function exposed in our implementation.
</Callout>

## Integrating

You can integrate Liquid Splits into your own NFT project by forking
[this repo](https://github.com/0xSplits/splits-liquid-template).

## Notes

- We recommend setting the
  [distribution incentive](/core-concepts#distributor-fee) on Liquid Splits to
  be slightly higher (i.e., ~2-3%) than on standard Splits. This is because
  distributions require more gas given the need to both update and distribute
  the Split.
- Liquid Split NFTs should only be considered to represent funds that have not
  yet been received by the Split. Because recipients of a Liquid Split are
  updated at the time of a distribution, it is unsafe to assume that acquiring
  Liquid Split NFTs will entitle you to any portion of the current balance. A
  seller could easily distribute the balance right before transferring you the
  shares, causing them to receive that portion of the balance.
- Since there are 1,000 NFTs for each Liquid Split, ownership can be defined to
  one tenth of a percent vs traditional Splits, which can be defined to one
  hundreth of a percent.
- We used the ERC-1155 standard since it allows batch transfers. This means that
  someone can transfer 1% of the Split (10 NFTs) in a single transaction instead
  of 10 separate ones (which would be required if using the ERC-721 standard).

## Code & Natspec

[Github](https://github.com/0xSplits/splits-liquid)
